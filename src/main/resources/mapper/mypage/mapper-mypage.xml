
	
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mypageMapper">
	
	<!-- 기부활동 -->
	<select id="mypageDonateList" resultType="mypage">
		SELECT PUSER_NAME, PRODUCT_AMOUNT, PRODUCT_DATE, CATEGORY_NAME 
		FROM DONATE_PRODUCT
		JOIN PRODUCT_CATEGORY USING (CATEGORY_NO)
	</select>
	
	<!-- 봉사활동 -->
	<select id="mypageProgramList" resultType="mypage">
		SELECT PROGRAM_NAME, PROGRAM_ACTIVITY_START_DATE, PROGRAM_ACTIVITY_END_DATE
		FROM PROGRAM P 
		JOIN REQUEST R ON (R.PROGRAM_NO = P.PROGRAM_NO)
		JOIN USERS U ON (U.USER_NO = R.USER_NO)
		WHERE U.USER_NO = '3'
	</select>
	
	<!-- 즐겨찾기 -->
	<select id="mypageBookmarkList" resultType="mypage">
		SELECT PROGRAM_NAME, PROGRAM_ACTIVITY_START_DATE, PROGRAM_ACTIVITY_END_DATE, USER_NAME
		FROM LIKES L
		JOIN USERS U ON (U.USER_NO = L.USER_NO)
		JOIN PROGRAM P ON (L.PROGRAM_NO = P.PROGRAM_NO)
		WHERE U.USER_NO = '3'
	</select>
	
	
	
	<update id="updateProfile" parameterType="user">
		UPDATE USERS SET
		USER_NAME = #{userName},
		PHONE = #{phone},
		ADDRESS = #{address}
		WHERE USER_NO = #{userNo}
	</update>



</mapper>